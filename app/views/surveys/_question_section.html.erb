<div class="questions-container">
  <% questions.each_with_index do |question, index| %>
    <div class="question-card" 
         data-survey-target="question"
         data-question-id="<%= question.id %>"
         data-question-index="<%= index %>"
         <%= 'data-attention-check="true" data-correct-answer="' + question.correct_answer + '"' if question.attention_check? %>
         style="display: <%= index == 0 ? 'block' : 'none' %>;">
      
      <div class="text-end mb-2">
        <small class="text-muted">Question <%= index + 1 %> of <%= @total_questions %></small>
      </div>
      
      <div class="text-center mb-4">
        <h3 class="question-text mb-3">
          <%= question.question_text %>
        </h3>

        <div class="response-options d-flex justify-content-between align-items-stretch gap-2">
          <% %w[Strongly_Disagree Disagree Neutral Agree Strongly_Agree].each do |response| %>
            <button type="button"
                    class="btn btn-outline-primary response-button flex-1"
                    data-action="click->survey#selectAnswer"
                    data-value="<%= response %>">
              <%= response.humanize %>
            </button>
          <% end %>
        </div>
      </div>

      <% if question.attention_check? %>
        <div class="alert alert-info mt-3">
          <i class="fas fa-exclamation-circle"></i> Please read this question carefully.
        </div>
      <% end %>
    </div>
  <% end %>
</div> 
